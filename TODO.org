#+TITLE: Todo
* In progress
** BeltLine
*** Re-Connect when rebuilding
** UI
*** Fix Up / Down arrow to move to next empty lane in that direction.
*** Make Region Selector use GeneralDialog
**** Make Region selector pretty and use hexes?
*** Change Bus item by clicking
** Inserters
*** Move items between areas
*** Build more to increase the rate of transfer
*** Transfer speed
**** Show inserters between factories, maybe between factory and mainbus
**** Each transfer point has defined speed (Items/second)
**** Can upgrade or build more transferers to incresae rate
**** Needs UX to show rate and to allow upgrading
* Next Ideas
** EntityId
*** Store 'nextId' in GameState
*** Add Id to many/most/all? entities
** Fuel
*** Gotta pay for smelters, power plants, etc
*** "fuel slot" holds any fuel
Consumed to power building
Buildings have an interal power buffer charged by fuel / electicity
Each step of recipe takes some amount of fuel/power
*** Cost to wire region for power?
** Power
*** Each region has separate power
*** Can generate in region, or export/import
*** Regions have limited size interconnect
*** day/night for solar?
*** Can built accumulator packs
** Liquids
*** Pipes are underground, under factory
*** Can't go on main belt
*** Lay out pipes in some fixed-width area
*** Connect extrators, factories, pipelines
** Limits
*** Main Bus Lanes
*** Building Slots
*** Max Building Cuo
** Transport
*** DONE Belt transport
Array of stacks
Pointer to each end
Pointers move, like ring buffer
**** Direct connects two regions
*** Pipe transport
Fluids are instantaneous?
**** Direct connects two regions
*** Train transport
Move large quantities every interval
**** Connects to rail grid
** MainBus
*** Pay for building
**** To add new lane
**** When extending
*** Allow belts to have variable height (not top-to-bottom)
** Different Building stats
*** Different buildings have different speeds / power consumption
** Regions
*** Cost to claim
*** Info UX
*** Distanace between cost to expand
*** Better differentiation
** Starter Building
*** Producers basic miner/smelter/assembler
In case you delete yours
*** Provides some basic power?

* UI
** Fix Liquid stack sizes
** Tabs
** Card UI Rework
*** Show resource consumption per-minute
** Show blocked resource in recipe when unable to craft
* Logic
** Realtime clock
Discrete event simulation? Or just keep track of last tick, and loop a buch on first load to catch up
* Features
** Storage Upgrades
** Crafting Time
** Power
** Pollution
** Research
*** Unlocks
*** Upgrades
** Global Entity Limits
** Max Capacity Upgrades
*** 'Explore' with weapons to find new batches?
* Game Tuning
** Upgrades
*** Costs
*** Amount given
*** Tiering
* Code
** Autogeneration of entities/recipes?
* Questions
** Burner vs. Electical
* Ideas
** Tabs are 'areas'. Fixed cap of machines, fixed capacity of resources
*** Can 'search' for new areas with a given resource combo
*** Get back area of somewhat random space, set of resources based on search criteria.
e.g. you might look for an area with copper + iron + stone to start, or water + oil for plastic
*** Local Storage + Import / Export from global. Maybe takes 'train routes' to move
** "Main Bus" and Resource Movement
alex: Resources should have to be moved around.
Try having each Factory feed into the one above/below it, or into a main bus on the right side.
*** Each factory has input/output buffers
Some stack size, maybe based on #factories, but maybe not
*** Each factory has configurable outputs
**** Can output up/down
Puts resources into input buffer of other factories
**** Can output onto belt
Belt has many lanes, each configured for a given resource
**** Can pull inputs from main bus
*** Main bus
**** Cost belts to add extend the bus
***** Can add length to add more factories
***** Can add width to add more lanes
*** Ore Handling
**** Comes from miners, works like other factories, but no import
****
* Performance Ideas
** Keep bug/turret state in separate timer thread
Currently state is in the main react thread. This is causing stuttering.
Instead have a separate thread doing game logic, and have 'Tick' just copy that state into react on some timer.
